# 企业微信应用配置示例
# 复制此文件为 .env.development 或 .env.production 并填入你的实际配置

# 企业信息
CORP_ID=your_corp_id_here
CORP_SECRET=your_corp_secret_here
AGENT_ID=your_agent_id_here

# 安全配置
TOKEN=your_token_here
ENCODING_AES_KEY=your_encoding_aes_key_here

# 服务器配置
PORT=3000

# Coze AI 配置
COZE_API_KEY=pat_your_coze_api_key_here
COZE_BOT_ID=your_coze_bot_id_here
COZE_WORKSPACE_ID=your_coze_workspace_id_here

# Coze SDK 配置
COZE_API_BASE_URL=https://api.coze.cn
COZE_API_VERSION=v1
COZE_TIMEOUT=300000  # 5分钟超时，支持长时间思考
COZE_AUTH_METHOD=pat

# 性能配置
REQUEST_TIMEOUT=300000  # 5分钟超时
MAX_RETRIES=3
RETRY_DELAY=1000

# 健康监控配置
HEALTH_CHECK_INTERVAL=30000
CLEANUP_INTERVAL=300000

# 性能优化配置
# HTTP连接池配置
HTTP_MAX_SOCKETS=50
HTTP_MAX_FREE_SOCKETS=10
HTTP_TIMEOUT=300000  # 5分钟超时
HTTP_KEEP_ALIVE=true
HTTP_KEEP_ALIVE_MSECS=1000

# 请求限流配置
RATE_LIMIT_PER_SECOND=10
RATE_LIMIT_PER_MINUTE=100
MAX_CONCURRENT_REQUESTS=5
QUEUE_MAX_SIZE=100

# 流式响应优化配置
STREAM_BUFFER_SIZE=8192
STREAM_FLUSH_INTERVAL=100
STREAM_COMPRESSION=true
STREAM_MAX_CHUNK_SIZE=65536
STREAM_MIN_CHUNK_SIZE=1024

# 日志级别配置 (debug, info, warn, error)
LOG_LEVEL=info

# Coze会话管理配置
COZE_CONVERSATION_TTL=86400000
COZE_MAX_MESSAGES_PER_CONVERSATION=100
COZE_MAX_CONVERSATIONS_PER_USER=10
COZE_CONVERSATION_CLEANUP_INTERVAL=3600000

# 初始加载的历史消息数量（默认20条）
INITIAL_MESSAGE_LIMIT=20

# 开发环境配置（可选）
# 使用 NODE_ENV=development 自动跳过企微认证
# 可自定义测试用户信息（有默认值 test_user_001 和 测试用户）
# TEST_USER_ID=test_user_001
# TEST_USER_NAME=测试用户