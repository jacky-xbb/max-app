<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>MAX</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <!-- Tailwind CSS -->
    <link rel="stylesheet" href="/css/tailwind.output.css">
</head>
<body class="text-gray-900 dark:text-gray-100">
<div class="min-h-screen">
    <!-- ç§»åŠ¨ç«¯èœå•æŒ‰é’® -->
    <button id="mobileMenuToggle" class="fixed top-4 left-4 z-50 md:hidden w-10 h-10 flex items-center justify-center transition-opacity hover:opacity-70" aria-label="èœå•">
        <svg class="w-6 h-6 text-black" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
            <path fill="currentColor" fill-rule="evenodd" d="M6 2.5h7a.5.5 0 0 1 .5.5v10a.5.5 0 0 1-.5.5H6v-11Zm-1.5 0H3a.5.5 0 0 0-.5.5v10a.5.5 0 0 0 .5.5h1.5v-11ZM1 3a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3Z" clip-rule="evenodd"/>
        </svg>
    </button>

    <!-- ç§»åŠ¨ç«¯ä¾§è¾¹æ é®ç½©å±‚ -->
    <div id="sidebarBackdrop" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-20 hidden md:hidden transition-opacity duration-300"></div>

    <!-- å·¦ä¾§è¾¹æ  -->
    <aside id="sidebar" class="fixed left-0 top-0 w-[260px] h-screen bg-slate-50 dark:bg-gray-800 flex flex-col border-r border-slate-200 dark:border-gray-700 transition-all duration-300 z-30 -translate-x-full md:translate-x-0">
        <!-- Header -->
        <div id="sidebar-header" class="p-4 flex items-center justify-between border-b border-slate-200 dark:border-gray-700">
            <!-- å±•å¼€çŠ¶æ€ï¼šå·¦ä¾§å¤´åƒ+æ–‡å­—ï¼Œå³ä¾§æŠ˜å æŒ‰é’® -->
            <div class="flex items-center gap-2 sidebar-content">
                <img src="/img/max.png" alt="MAX Avatar" class="w-8 h-8 rounded-full object-cover sidebar-logo">
                <div class="font-semibold text-gray-800 dark:text-gray-100 sidebar-text">MAXå¤§éº¦</div>
            </div>
            <button id="btn-collapse" class="p-2 rounded-md hover:bg-slate-100 dark:hover:bg-gray-700 transition-colors sidebar-toggle-btn sidebar-content" title="æŠ˜å ä¾§è¾¹æ ">
                <img src="/img/sidebar.svg" alt="Toggle Sidebar" class="w-5 h-5">
            </button>

            <!-- æŠ˜å çŠ¶æ€ï¼šMAX å¤´åƒä¸æŠ˜å æŒ‰é’®åˆ‡æ¢æ˜¾ç¤º -->
            <div id="collapsed-header-toggle" class="relative w-10 h-10 hidden">
                <button id="collapsed-expand-btn" class="absolute inset-0 flex items-center justify-center rounded-lg transition-all duration-300" title="å±•å¼€ä¾§è¾¹æ ">
                    <img src="/img/max.png" alt="MAX Avatar" class="w-8 h-8 rounded-full object-cover collapsed-avatar">
                    <img src="/img/sidebar.svg" alt="Toggle Sidebar" class="w-5 h-5 collapsed-toggle-icon opacity-0 absolute">
                </button>
            </div>
        </div>

        <!-- æ–°å»ºå¯¹è¯æŒ‰é’® - å±•å¼€çŠ¶æ€ -->
        <div class="px-4 py-3 sidebar-content">
            <button id="btn-new"
                    class="w-full h-12 rounded-lg bg-indigo-50 hover:bg-indigo-100 active:bg-indigo-200 transition-colors flex items-center justify-center gap-2">
                <img src="/img/add.svg" alt="æ–°å»º" class="w-5 h-5">
                <span class="sidebar-text" style="font-family: 'PingFang SC'; font-style: normal; font-weight: 500; font-size: 14px; line-height: 22px; color: #2374FF;">å¼€å¯æ–°å¯¹è¯</span>
            </button>
        </div>

        <!-- æŠ˜å çŠ¶æ€ä¸‹çš„æŒ‰é’®ç»„ -->
        <div id="collapsed-actions" class="flex flex-col items-center gap-2 py-3 hidden">
            <!-- æ–°å»ºå¯¹è¯æŒ‰é’® -->
            <button id="collapsed-new-btn"
                    class="w-10 h-10 rounded-full bg-indigo-50 hover:bg-indigo-100 active:bg-indigo-200 text-blue-500 transition-all duration-200 hover:scale-105 flex items-center justify-center"
                    title="å¼€å¯æ–°å¯¹è¯">
                <img src="/img/add.svg" alt="æ–°å»º" class="w-5 h-5">
            </button>

            <!-- æœç´¢æŒ‰é’® -->
            <button id="collapsed-search-btn"
                    class="w-10 h-10 rounded-full hover:bg-slate-100 dark:hover:bg-gray-700 text-gray-500 transition-all duration-200 hover:scale-105 flex items-center justify-center"
                    title="æœç´¢å¯¹è¯">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                </svg>
            </button>
        </div>

        <!-- æŠ˜å çŠ¶æ€ä¸‹çš„å ä½ç©ºé—´ -->
        <div id="collapsed-spacer" class="flex-1 hidden"></div>

        <!-- å¯¹è¯åˆ—è¡¨æ ‡é¢˜ / æœç´¢æ¡†åˆ‡æ¢åŒºåŸŸ -->
        <div class="px-4 py-2 sidebar-content">
            <!-- æ ‡é¢˜çŠ¶æ€ -->
            <div id="conversation-header" class="flex items-center justify-between text-slate-600 dark:text-gray-400">
                <div class="flex items-center gap-2 text-sm font-medium">
                    <img src="/img/history.svg" alt="å†å²" class="w-4 h-4 flex-shrink-0">
                    <span class="sidebar-text">æœ€è¿‘å¯¹è¯</span>
                </div>
                <button id="btn-search" class="p-2 rounded-md hover:bg-slate-100 dark:hover:bg-gray-700 transition-colors" title="æœç´¢å¯¹è¯">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                    </svg>
                </button>
            </div>

            <!-- æœç´¢æ¡†çŠ¶æ€ -->
            <div id="search-wrap" class="hidden flex items-center gap-2">
                <input id="inp-search" type="text" placeholder="æœç´¢ä¼šè¯"
                       class="flex-1 h-9 rounded-md border border-slate-200 dark:border-gray-600 dark:bg-gray-700 px-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400">
                <button id="btn-close-search" class="p-2 rounded-md hover:bg-slate-100 dark:hover:bg-gray-700 transition-colors" title="å…³é—­æœç´¢">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>
        </div>

        <!-- å¯¹è¯åˆ—è¡¨ -->
        <div id="thread-list" class="flex-1 px-2 sidebar-content">
            <!-- éª¨æ¶å±åŠ è½½çŠ¶æ€ -->
            <div id="conversation-skeleton" class="conversation-skeleton">
                <div class="skeleton-conversation-item">
                    <div class="skeleton-conv-title"></div>
                    <div class="skeleton-conv-time"></div>
                </div>
                <div class="skeleton-conversation-item">
                    <div class="skeleton-conv-title"></div>
                    <div class="skeleton-conv-time"></div>
                </div>
                <div class="skeleton-conversation-item">
                    <div class="skeleton-conv-title"></div>
                    <div class="skeleton-conv-time"></div>
                </div>
                <div class="skeleton-conversation-item">
                    <div class="skeleton-conv-title"></div>
                    <div class="skeleton-conv-time"></div>
                </div>
            </div>
        </div>

        <!-- åˆ†éš”çº¿ -->
        <div class="px-4">
            <div class="h-px bg-slate-200 dark:bg-gray-700"></div>
        </div>

        <!-- ç”¨æˆ·ä¿¡æ¯åŒºåŸŸ (ç§»åˆ°è¿™é‡Œ) -->
        <div id="sidebarUserSection" class="p-3">
            <!-- æœªç™»å½•çŠ¶æ€ -->
            <button id="sidebarLoginButton" style="display: none;" class="w-full px-4 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg flex items-center justify-center gap-2 transition-colors sidebar-content">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"/>
                </svg>
                <span>ç™»å½•</span>
            </button>

            <!-- å·²ç™»å½•çŠ¶æ€ - å±•å¼€ -->
            <div id="sidebarUserInfo" style="display: none;" class="sidebar-content">
                <button id="sidebarUserInfoBtn" class="w-full px-3 py-2 hover:bg-slate-100 dark:hover:bg-gray-700 rounded-lg flex items-center gap-3 transition-colors">
                    <div class="w-6 h-6 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-medium text-xs">
                        <span id="sidebarUserAvatar"></span>
                    </div>
                    <span id="sidebarUserName" class="text-gray-800 dark:text-gray-200 flex-1 text-left truncate" style="font-style: normal; font-weight: 400; font-size: 12px; line-height: 20px;"></span>
                    <img src="/img/right.svg" alt="å±•å¼€" class="w-4 h-4 flex-shrink-0 opacity-60 desktop-only-arrow">
                </button>

                <!-- ç”¨æˆ·èœå•ï¼ˆä»å³ä¾§å¼¹å‡ºï¼‰ -->
                <div id="sidebarUserMenu" class="sidebar-user-menu" style="display: none;">
                    <!-- ç”¨æˆ·ä¿¡æ¯å¤´éƒ¨ -->
                    <div class="sidebar-menu-header">
                        <div class="w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-medium text-xs">
                            <span id="sidebarMenuAvatar"></span>
                        </div>
                        <div class="ml-3 flex-1 min-w-0">
                            <div id="sidebarMenuUserName" class="text-gray-900 dark:text-gray-100 font-medium text-sm truncate"></div>
                        </div>
                    </div>

                    <!-- åˆ†éš”çº¿ -->
                    <div class="sidebar-menu-divider"></div>

                    <!-- èœå•é¡¹ -->
                    <div class="sidebar-menu-items">
                        <button id="sidebarLogoutBtn" class="sidebar-menu-item">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                            </svg>
                            <span>ç™»å‡º</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- æŠ˜å çŠ¶æ€ - ç™»å½•æŒ‰é’® -->
            <div id="collapsedLoginButton" class="hidden flex justify-center">
                <button id="collapsed-login-btn"
                        class="w-10 h-10 rounded-full bg-blue-500 hover:bg-blue-600 flex items-center justify-center text-white transition-all duration-200 hover:scale-110 shadow-md"
                        title="ç™»å½•">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"/>
                    </svg>
                </button>
            </div>

            <!-- æŠ˜å çŠ¶æ€ - ç”¨æˆ·å¤´åƒ -->
            <div id="collapsedUserAvatar" class="hidden flex justify-center">
                <button id="collapsed-user-btn"
                        class="w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-medium text-xs transition-all duration-200 hover:scale-110 shadow-md overflow-hidden"
                        title="ç”¨æˆ·ä¿¡æ¯">
                    <span id="collapsedUserAvatarText" class="w-full h-full flex items-center justify-center"></span>
                </button>
            </div>
        </div>
    </aside>

    <!-- å³ä¾§ä¸»å†…å®¹åŒº -->
    <main class="ml-0 md:ml-[260px] flex flex-col min-h-screen welcome-state">
        <div class="chat-container px-4 md:px-6 lg:px-8" id="chatContainer">
        </div>

        <!-- Max å¤§éº¦ Title -->
        <div class="app-title-container px-3 sm:px-0">
            <h1 class="app-title text-2xl sm:text-3xl md:text-4xl">ğŸ‘‹ğŸ» ä½ å¥½ï¼Œæˆ‘æ˜¯ MAX å¤§éº¦</h1>
        </div>

        <div class="input-container" id="inputContainer">
    <div class="message-input-wrapper">
        <!-- ä¸Šå±‚ï¼šè¾“å…¥æ¡† -->
        <div class="input-top-layer">
            <textarea class="message-input w-full resize-none outline-none text-sm sm:text-base px-3 sm:px-4 py-2 border-0 focus:outline-none"
                      id="messageInput" placeholder="è¯·è¾“å…¥" rows="1"
                      style="overflow-y: auto;"></textarea>
        </div>
        <!-- ä¸‹å±‚ï¼šæŒ‰é’®ç»„ -->
        <div class="input-bottom-layer">
            <!-- å·¦ä¾§ï¼šæ¨¡å¼åˆ‡æ¢ä¸‹æ‹‰èœå•å’Œæ¸…é™¤æŒ‰é’® -->
            <div class="left-button-group">
                <!-- æ¨¡å¼åˆ‡æ¢ä¸‹æ‹‰èœå• -->
                <div class="mode-dropdown" id="modeDropdown">
                    <button class="mode-dropdown-trigger" id="modeDropdownTrigger">
                        <img src="/img/business.svg" alt="" width="16" height="16" id="modeIcon">
                        <span id="modeText">ä¼ä¸šçŸ¥è¯†</span>
                        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="dropdown-arrow-icon">
                            <path d="M3 7.5L6 4.5L9 7.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>

                    <!-- ä¸‹æ‹‰é€‰é¡¹ï¼ˆå‘ä¸Šå¼¹å‡ºï¼‰-->
                    <div class="mode-dropdown-menu" id="modeDropdownMenu">
                        <button class="mode-dropdown-item active" data-mode="enterprise">
                            <img src="/img/business.svg" alt="" width="16" height="16">
                            <span>ä¼ä¸šçŸ¥è¯†</span>
                        </button>
                        <button class="mode-dropdown-item" data-mode="internet">
                            <img src="/img/internet.svg" alt="" width="16" height="16">
                            <span>è”ç½‘æœç´¢</span>
                        </button>
                    </div>
                </div>

                <!-- æ¸…é™¤å¯¹è¯æŒ‰é’® -->
                <!-- <button class="icon-button clear-button" id="clearConversationBtn" title="æ¸…ç©ºå¯¹è¯">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M3 23v-7q0-2.075 1.463-3.538T8 11h1V3q0-.825.588-1.413T11 1h2q.825 0 1.413.588T15 3v8h1q2.075 0 3.538 1.463T21 16v7H3Zm2-2h2v-3q0-.425.288-.713T8 17q.425 0 .713.288T9 18v3h2v-3q0-.425.288-.713T12 17q.425 0 .713.288T13 18v3h2v-3q0-.425.288-.713T16 17q.425 0 .713.288T17 18v3h2v-5q0-1.25-.875-2.125T16 13H8q-1.25 0-2.125.875T5 16v5Zm8-10V3h-2v8h2Z"/>
                    </svg>
                </button> -->
            </div>
            <!-- å³ä¾§ï¼šåŠŸèƒ½å›¾æ ‡ç»„ -->
            <div class="action-icons-group">
                <!-- è¯­éŸ³æŒ‰é’® -->
                <button class="icon-button mic-button" id="micButton" title="æŒ‰ä½è¯´è¯">
                    <img src="/img/voice.svg" alt="è¯­éŸ³" width="20" height="20">
                </button>
                <!-- å‘é€æŒ‰é’® -->
                <button class="icon-button send-button" id="sendButton" style="display: none;">
                    <img src="/img/send.svg" alt="å‘é€" width="20" height="20">
                </button>
            </div>
        </div>
    </div>
    </div>

    <!-- å½•éŸ³åŠ¨ç”»åŒºåŸŸï¼Œé»˜è®¤éšè—ï¼Œå½•éŸ³æ—¶æ˜¾ç¤º -->
    <div id="recordingPanel" class="recording-panel" style="display:none;"></div>

    <!-- ä¿¡æ¯å®‰å…¨æç¤º -->
    <div class="disclaimer-notice" role="complementary" aria-label="ä¿¡æ¯å®‰å…¨æç¤º">
        <!-- ä¼å¾®ç«¯ï¼šæ˜¾ç¤º"AIç”Ÿæˆå†…å®¹ä»…ä½œå‚è€ƒ" -->
        <span class="security-notice-wecom">AIç”Ÿæˆå†…å®¹ä»…ä½œå‚è€ƒ</span>
        
        <!-- æ¡Œé¢ç«¯ï¼šæ˜¾ç¤ºå®Œæ•´æ–‡æœ¬ -->
        <div class="security-notice-desktop">
            AIç”Ÿæˆå†…å®¹ä»…ä½œå‚è€ƒã€‚æ‰€æœ‰ä¸“ä¸šé—®é¢˜å‡é¡»ä»¥ç›¸å…³éƒ¨é—¨æ­£å¼æ„è§ä¸ºå‡†ã€‚ä½¿ç”¨ä¸­ä¸å¾—è¾“å…¥ä»»ä½•ä¸ªäººä¿¡æ¯å’ŒC-2çº§åŠä»¥ä¸Šä¿å¯†ä¿¡æ¯ï¼Œä¸å¾—ä¼ æ’­è¿æ³•æˆ–ä¸å½“å†…å®¹ã€‚å¯¹AIè¾“å‡ºå†…å®¹çš„ä½¿ç”¨å¿…é¡»è¿›è¡Œäººå·¥çœŸå®æ€§æ ¸æŸ¥ã€æ˜ç¡®æ ‡æ³¨å…¶ä¸ºAIç”Ÿæˆï¼Œå¹¶å®¡æ…è¯„ä¼°è‘—ä½œæƒã€åè§åŠé“å¾·é£é™©ã€‚å¯¹è¯å†…å®¹å·²åŠ å¯†ã€‚
        </div>
    </div>
    </main>
</div>

<!-- æœåŠ¡å‘ŠçŸ¥ä¹¦æ¨¡æ€æ¡† -->
<div id="serviceAgreementModal" class="service-agreement-overlay fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4" style="display: none;">
    <div class="service-agreement-modal bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-auto relative">
        <!-- å…³é—­æŒ‰é’® -->
        <button id="serviceAgreementCloseBtn" class="absolute top-4 right-4 w-8 h-8 flex items-center justify-center rounded-lg text-gray-400 hover:text-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all z-10" aria-label="å…³é—­">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
        </button>

        <div class="service-agreement-header flex items-center gap-3 sm:gap-4 p-4 sm:p-6 border-b dark:border-gray-700">
            <div class="service-agreement-avatar w-10 h-10 sm:w-12 sm:h-12 rounded-full overflow-hidden flex-shrink-0">
                <img src="/img/max.png" alt="Max Avatar" class="service-agreement-avatar-img w-full h-full object-cover">
            </div>
            <div class="service-agreement-title-wrapper min-w-0 pr-8">
                <h2 class="service-agreement-title text-lg sm:text-xl font-semibold">ä½¿ç”¨çŸ¥æƒ…åŒæ„ä¹¦</h2>
                <p class="service-agreement-subtitle text-xs sm:text-sm text-gray-600 dark:text-gray-400">è¯·ä»”ç»†é˜…è¯»å¹¶ç¡®è®¤åŒæ„ä»¥ä¸‹å†…å®¹åå†è¿›å…¥ä½¿ç”¨</p>
            </div>
        </div>

        <div class="service-agreement-content p-4 sm:p-6">
            <div class="service-agreement-text text-sm sm:text-base">
                <p class="agreement-section">
                    <span class="english-text">
                        <strong>Clarify the tool's positioning:</strong> This AI tool only provides preliminary reference information for legal and compliance-related issues. The content it outputs is suggestions generated based on existing data and algorithms, and does not have legal binding force or final decision-making effect.
                    </span>
                </p>
                
                <p class="agreement-section">
                    <strong>æ˜ç¡®å·¥å…·å®šä½ï¼š</strong>æœ¬ AI å·¥å…·ä»…ä¸ºæ³•åŠ¡åˆè§„ç›¸å…³é—®é¢˜æä¾›åˆæ­¥å‚è€ƒä¿¡æ¯ï¼Œå…¶è¾“å‡ºå†…å®¹æ˜¯åŸºäºç°æœ‰æ•°æ®å’Œç®—æ³•ç”Ÿæˆçš„å»ºè®®ï¼Œä¸å…·å¤‡æ³•å¾‹çº¦æŸåŠ›å’Œæœ€ç»ˆå†³ç­–æ•ˆåŠ›ã€‚
                </p>

                <p class="agreement-section">
                    <span class="english-text">
                        <strong>Pay attention to content limitations:</strong> The content output by the tool may have deviations due to untimely data updates, incomplete scenario coverage, etc. Do not take it as the only basis for action, especially when it comes to key matters such as signing important contracts and assessing compliance risks.
                    </span>
                </p>

                <p class="agreement-section">
                    <strong>å…³æ³¨å†…å®¹å±€é™æ€§ï¼š</strong>å·¥å…·æ‰€è¾“å‡ºçš„å†…å®¹å¯èƒ½å­˜åœ¨å› æ•°æ®æ›´æ–°ä¸åŠæ—¶ã€åœºæ™¯è¦†ç›–ä¸å…¨ç­‰å¯¼è‡´çš„åå·®ï¼Œè¯·å‹¿å°†å…¶ä½œä¸ºå”¯ä¸€çš„è¡ŒåŠ¨ä¾æ®ï¼Œå°¤å…¶æ˜¯åœ¨æ¶‰åŠé‡å¤§åˆåŒç­¾è®¢ã€åˆè§„é£é™©è¯„ä¼°ç­‰å…³é”®äº‹é¡¹æ—¶ã€‚
                </p>

                <p class="agreement-section">
                    <span class="english-text">
                        <strong>Be cautious in special situations:</strong> For issues in special scenarios involving the company's core interests, complex legal disputes, and cross-regional compliance requirements, the answers from the AI tool can only serve as an aid for preliminary understanding. It is necessary to further consult professionals from the Legal and Compliance Department.
                    </span>
                </p>

                <p class="agreement-section">
                    <strong>ç‰¹æ®Šæƒ…å†µéœ€è°¨æ…ï¼š</strong>å¯¹äºæ¶‰åŠå…¬å¸æ ¸å¿ƒåˆ©ç›Šã€å¤æ‚æ³•å¾‹çº çº·ã€è·¨åœ°åŸŸåˆè§„è¦æ±‚ç­‰ç‰¹æ®Šåœºæ™¯çš„é—®é¢˜ï¼ŒAI å·¥å…·çš„å›ç­”ä»…èƒ½ä½œä¸ºå‰æœŸäº†è§£çš„è¾…åŠ©ï¼ŒåŠ¡å¿…è¿›ä¸€æ­¥å’¨è¯¢æ³•åŠ¡åˆè§„éƒ¨ä¸“ä¸šäººå‘˜ã€‚
                </p>

                <p class="agreement-section">
                    <span class="english-text">
                        <strong>Official opinions shall prevail:</strong> All final conclusions and action guidelines related to legal compliance must be based on the official written opinions or oral replies formally issued by the Legal and Compliance Department. The content of the AI tool cannot replace such official opinions.
                    </span>
                </p>

                <p class="agreement-section">
                    <strong>ä»¥å®˜æ–¹æ„è§ä¸ºå‡†ï¼š</strong>æ‰€æœ‰ä¸æ³•åŠ¡åˆè§„ç›¸å…³çš„æœ€ç»ˆç»“è®ºã€è¡ŒåŠ¨æŒ‡å¼•ï¼Œå‡éœ€ä»¥æ³•åŠ¡åˆè§„éƒ¨æ­£å¼å‡ºå…·çš„ä¹¦é¢æ„è§æˆ–å£å¤´ç­”å¤ä¸ºå‡†ï¼ŒAI å·¥å…·çš„å†…å®¹ä¸å¾—æ›¿ä»£è¯¥å®˜æ–¹æ„è§ã€‚
                </p>

                <p class="agreement-section">
                    <span class="english-text">
                        <strong>Feedback problems in a timely manner:</strong> If it is found that the output content of the AI tool has obvious errors, conflicts with actual compliance requirements, etc., please feedback to the Legal and Compliance Department in a timely manner to facilitate the optimization and improvement of the tool.
                    </span>
                </p>

                <p class="agreement-section">
                    <strong>åŠæ—¶åé¦ˆé—®é¢˜ï¼š</strong>è‹¥å‘ç° AI å·¥å…·è¾“å‡ºå†…å®¹å­˜åœ¨æ˜æ˜¾é”™è¯¯ã€ä¸å®é™…åˆè§„è¦æ±‚å†²çªç­‰æƒ…å†µï¼Œè¯·åŠæ—¶å‘æ³•åŠ¡åˆè§„éƒ¨åé¦ˆï¼Œä»¥ä¾¿å¯¹å·¥å…·è¿›è¡Œä¼˜åŒ–å®Œå–„ã€‚
                </p>
            </div>
        </div>

        <div class="service-agreement-footer flex justify-end gap-3 p-4 sm:p-6 border-t dark:border-gray-700">
            <button id="serviceAgreementAcceptBtn" class="service-agreement-accept-btn btn-primary px-6 py-2.5 sm:px-8 sm:py-3 text-sm sm:text-base" type="button">
                åŒæ„å¹¶è¿›å…¥
            </button>
        </div>
    </div>
</div>

<!-- å®‰å…¨å£°æ˜æ¨¡æ€æ¡† -->
<div id="securityNoticeModal" class="service-agreement-overlay fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4" style="display: none;">
    <div class="service-agreement-modal bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-auto relative">
        <!-- å…³é—­æŒ‰é’® -->
        <button id="securityNoticeCloseBtn" class="absolute top-4 right-4 w-8 h-8 flex items-center justify-center rounded-lg text-gray-400 hover:text-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all z-10" aria-label="å…³é—­">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
        </button>

        <div class="service-agreement-header flex items-center gap-3 sm:gap-4 p-4 sm:p-6 border-b dark:border-gray-700">
            <div class="service-agreement-avatar w-10 h-10 sm:w-12 sm:h-12 rounded-full overflow-hidden flex-shrink-0">
                <img src="/img/max.png" alt="Max Avatar" class="service-agreement-avatar-img w-full h-full object-cover">
            </div>
            <div class="service-agreement-title-wrapper min-w-0 pr-8">
                <h2 class="service-agreement-title text-lg sm:text-xl font-semibold">ä¿¡æ¯å®‰å…¨æç¤º</h2>
            </div>
        </div>

        <div class="service-agreement-content p-4 sm:p-6">
            <div class="service-agreement-text text-sm sm:text-base">
                <p class="agreement-section">
                    AIç”Ÿæˆå†…å®¹ä»…ä½œå‚è€ƒã€‚æ‰€æœ‰ä¸“ä¸šé—®é¢˜å‡é¡»ä»¥ç›¸å…³éƒ¨é—¨æ­£å¼æ„è§ä¸ºå‡†ã€‚ä½¿ç”¨ä¸­ä¸å¾—è¾“å…¥ä»»ä½•ä¸ªäººä¿¡æ¯å’ŒC-2çº§åŠä»¥ä¸Šä¿å¯†ä¿¡æ¯ï¼Œä¸å¾—ä¼ æ’­è¿æ³•æˆ–ä¸å½“å†…å®¹ã€‚å¯¹AIè¾“å‡ºå†…å®¹çš„ä½¿ç”¨å¿…é¡»è¿›è¡Œäººå·¥çœŸå®æ€§æ ¸æŸ¥ã€æ˜ç¡®æ ‡æ³¨å…¶ä¸ºAIç”Ÿæˆï¼Œå¹¶å®¡æ…è¯„ä¼°è‘—ä½œæƒã€åè§åŠé“å¾·é£é™©ã€‚å¯¹è¯å†…å®¹å·²åŠ å¯†ã€‚
                </p>
            </div>
        </div>

        <div class="service-agreement-footer flex justify-end gap-3 p-4 sm:p-6 border-t dark:border-gray-700">
            <button id="securityNoticeConfirmBtn" class="service-agreement-accept-btn btn-primary px-6 py-2.5 sm:px-8 sm:py-3 text-sm sm:text-base" type="button">
                æˆ‘çŸ¥é“äº†
            </button>
        </div>
    </div>
</div>

<!-- å›¾ç‰‡æŸ¥çœ‹å™¨ -->
<div id="imageViewer" class="image-viewer-overlay">
    <span class="image-viewer-close">&times;</span>
    <div class="image-viewer-container">
        <img id="viewerImage" src="" alt="æŸ¥çœ‹å¤§å›¾">
    </div>
</div>

<!--&lt;!&ndash; æ·»åŠ ç½‘ç»œçŠ¶æ€æŒ‡ç¤ºå™¨ &ndash;&gt;-->
<!--<div id="networkStatus" class="network-status"></div>-->

<!-- æ‰«ç ç™»å½•æ¨¡æ€æ¡†å·²ç§»é™¤ï¼šæ”¹ä¸ºç›´æ¥è·³è½¬åˆ° /auth/login -->

<!-- æµ®åŠ¨æœç´¢æ¡† -->
<div id="floatingSearchOverlay" class="fixed inset-0 bg-black/10 backdrop-blur-sm z-40 hidden" style="display: none;"></div>
<div id="floatingSearchBox" class="fixed bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-slate-200 dark:border-gray-700 w-80 max-h-96 overflow-hidden z-50 hidden" style="display: none;">
    <!-- æœç´¢è¾“å…¥æ¡† -->
    <div class="flex items-center gap-3 px-4 py-3 border-b border-slate-200 dark:border-gray-700">
        <svg class="w-5 h-5 text-gray-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
        </svg>
        <input id="floatingSearchInput"
               type="text"
               placeholder="æœç´¢ä¼šè¯"
               class="flex-1 outline-none bg-transparent text-gray-900 dark:text-gray-100 text-sm"
               autocomplete="off">
        <button id="closeFloatingSearch" class="p-1 hover:bg-slate-100 dark:hover:bg-gray-700 rounded transition-colors">
            <svg class="w-4 h-4 text-gray-400 hover:text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
        </button>
    </div>

    <!-- æœç´¢ç»“æœåˆ—è¡¨ -->
    <div id="floatingSearchResults" class="max-h-80 overflow-y-auto">
        <!-- ç»“æœå°†é€šè¿‡ JS åŠ¨æ€æ·»åŠ  -->
        <div id="floatingSearchEmpty" class="py-12 text-center text-gray-400 text-sm">
            è¯·è¾“å…¥å…³é”®è¯æœç´¢
        </div>
    </div>
</div>

<!-- æµ®åŠ¨ç”¨æˆ·èœå• -->
<div id="floatingUserMenuOverlay" class="fixed inset-0 bg-black/10 backdrop-blur-sm z-40 hidden" style="display: none;"></div>
<div id="floatingUserMenu" class="fixed bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-slate-200 dark:border-gray-700 w-64 overflow-hidden z-50 hidden" style="display: none;">
    <!-- ç”¨æˆ·ä¿¡æ¯å¤´éƒ¨ -->
    <div class="p-4 flex items-center gap-2 border-b border-slate-200 dark:border-gray-700">
        <div class="w-6 h-6 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-medium text-xs flex-shrink-0">
            <span id="floatingUserMenuAvatar"></span>
        </div>
        <div class="flex-1 min-w-0">
            <div id="floatingUserMenuName" class="text-gray-900 dark:text-gray-100 truncate" style="font-style: normal; font-weight: 400; font-size: 12px; line-height: 20px;"></div>
            <div id="floatingUserMenuEmail" class="text-gray-500 dark:text-gray-400 text-xs truncate"></div>
        </div>
    </div>

    <!-- èœå•é¡¹ -->
    <div class="py-1">
        <button id="floatingUserMenuLogout" class="w-full px-4 py-3 flex items-center gap-3 hover:bg-slate-50 dark:hover:bg-gray-700 transition-colors text-left">
            <svg class="w-5 h-5 text-red-600 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
            </svg>
            <span class="text-sm text-red-600 font-medium">ç™»å‡º</span>
        </button>
    </div>
</div>

<!-- åˆ é™¤ç¡®è®¤æ¨¡æ€æ¡† -->
<div id="deleteConfirmModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[9999] hidden p-4" style="display: none;">
    <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full p-5 sm:p-6 relative animate-modal-in">
        <!-- å…³é—­æŒ‰é’® -->
        <button id="closeDeleteModal"
                class="absolute top-3 right-3 sm:top-4 sm:right-4 w-8 h-8 flex items-center justify-center rounded-lg text-gray-400 hover:text-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all"
                aria-label="å…³é—­">
            <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
        </button>

        <!-- æ ‡é¢˜ -->
        <h2 class="text-lg sm:text-xl font-semibold text-gray-900 dark:text-gray-100 mb-3 sm:mb-4 pr-8">
            åˆ é™¤æ­¤ä¼šè¯ï¼Ÿ
        </h2>

        <!-- æè¿°æ–‡å­— -->
        <p id="deleteModalMessage" class="text-sm sm:text-base text-gray-600 dark:text-gray-400 mb-5 sm:mb-6 text-left leading-relaxed">
            è¿™æ¡ä¼šè¯å°†è¢«æ°¸ä¹…åˆ é™¤ï¼Œä¸å¯æ¢å¤åŠæ’¤é”€
        </p>

        <!-- æ“ä½œæŒ‰é’® -->
        <div class="flex gap-2 sm:gap-3 justify-end">
            <button id="cancelDeleteBtn"
                    class="px-4 py-2 sm:px-6 sm:py-2.5 rounded-lg bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 font-medium transition-colors text-sm sm:text-base">
                å–æ¶ˆ
            </button>
            <button id="confirmDeleteBtn"
                    class="px-4 py-2 sm:px-6 sm:py-2.5 rounded-lg bg-red-500 hover:bg-red-600 text-white font-medium transition-colors shadow-lg shadow-red-500/30 text-sm sm:text-base">
                åˆ é™¤
            </button>
        </div>
    </div>
</div>

<!-- å¼•å…¥è„šæœ¬ -->
<script src="/config.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="/js/cozeClient.js"></script>
<script src="/js/chat.js"></script>
</body>
</html>
